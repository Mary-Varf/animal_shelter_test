{"version":3,"sources":["layout/Header.js","layout/Footer.js","page/Home.js","api.js","actions/index.js","page/Login.js","components/LoginForm.js","components/TodayItem.js","layout/Preloader.js","page/Today.js","components/TodayList.js","page/Animal.js","components/AnimalCard.js","components/AnimalsItem.js","page/Animals.js","components/AnimalsList.js","page/NotFound.js","App.js","reducers/reducers.js","initialState.js","index.js"],"names":["Header","className","to","id","Footer","Date","getFullYear","Home","window","location","assign","apiUrl","getAnimalsData","query","localStorage","getItem","axios","get","headers","toggleLoginError","loginError","type","toggleTodayError","todayError","toggleLoading","loading","addTodayData","todayData","addAnimalsData","animalsData","toggleTodayReady","todayReady","addNextPage","nextPage","addAnimalCardData","animalCardData","connect","state","dispatch","data","loginReady","useState","login","setLogin","password","setPassword","useDispatch","useEffect","toggleLoginReady","action","placeholder","onChange","e","target","value","data-length","onClick","preventDefault","length","post","auth","then","response","setItem","access","catch","error","console","log","TodayItem","item","linkId","animal","name","spec_name","my_type","drugs","drug_name","drug_dosage","form_of_drug","Preloader","getTodayData","results","next","map","i","animalCartData","useParams","goBack","useHistory","getAnimalCartData","animal_attributes","arr","spec_parent_name","src","alt","href","AnimalsItem","slice","NotFound","App","basename","exact","path","component","Login","Today","Animals","Animal","reducer","initialState","store","createStore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.aafeef27.chunk.js","sourcesContent":["import { Link } from 'react-router-dom';\r\n\r\nexport const Header = () => {\r\n    return (\r\n      <header>\r\n        <nav className='red lighten-1'>\r\n            <div className=\"nav-wrapper\">\r\n                    <Link to='/animals' className=\"brand-logo left cursor\">Приют №1</Link>\r\n                <ul  className=\"right\">\r\n                    <li>\r\n                        <Link to='/today' className='cursor' id='mob-dn'>Назначения на сегодня</Link>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </nav>\r\n      </header>\r\n    )\r\n}\r\n\r\n\r\n","export const Footer = () => {\r\n    return (\r\n        <footer className=\"page-footer red lighten-1\">\r\n          <div className=\"footer-copyright\">\r\n            <div className=\"container cursor\">\r\n            © {new Date().getFullYear()} Animals\r\n            </div>\r\n          </div>\r\n        </footer>\r\n    )\r\n}\r\n","export const Home = () => {\r\n    window.location.assign('/login');\r\n}\r\n\r\n","import axios from 'axios';\r\nconst apiUrl = 'https://acits-api.herokuapp.com/api/';\r\n\r\nexport const auth = (login, password) => {\r\n    return axios.post(\r\n        `${apiUrl}token/`, {\r\n            headers: {\r\n                \"Content-Type\" : \"application/json\",\r\n            },\r\n            'username': login,\r\n            'password': password,\r\n        }\r\n      )\r\n}\r\nexport const getTodayData = () => {\r\n    if (localStorage.getItem('access')) {\r\n        return axios.get(\r\n            `${apiUrl}v1/prescriptions/today/`, {\r\n                headers: {\r\n                    'Authorization': 'Bearer ' + localStorage.getItem('access'),\r\n                    'current-shelter': '1'\r\n                },\r\n            }\r\n          )\r\n    } else{\r\n        window.location.assign('/login');\r\n    }\r\n}\r\nexport const getAnimalsData = (query = '') => {\r\n    if (localStorage.getItem('access')) {\r\n        return axios.get(\r\n            `${apiUrl}v1/animals/${query}`, {\r\n                headers: {\r\n                    'Authorization': 'Bearer ' + localStorage.getItem('access'),\r\n                    'current-shelter': '1'\r\n                },\r\n            }\r\n          )\r\n    } else{\r\n        window.location.assign('/login');\r\n    }\r\n}\r\nexport const getAnimalCartData = (id) => {\r\n    if (localStorage.getItem('access')) {\r\n        return axios.get(\r\n            `${apiUrl}v1/animals/${id}`, {\r\n                headers: {\r\n                    'Authorization': 'Bearer ' + localStorage.getItem('access'),\r\n                    'current-shelter': '1'\r\n                },\r\n            }\r\n          )\r\n    } else{\r\n        window.location.assign('/login');\r\n    }\r\n}\r\n\r\n","export const toggleLoginError = (loginError) => ({\r\n    type: 'LOGIN_ERROR',\r\n    loginError\r\n})\r\nexport const toggleTodayError = (todayError) => ({\r\n    type: 'TODAY_ERROR',\r\n    todayError\r\n})\r\nexport const toggleLoading = (loading) => ({\r\n    type: 'TOGGLE_LOADING',\r\n    loading\r\n})\r\nexport const toggleLoginReady = (loginReady) => ({\r\n    type: 'LOGIN_READY',\r\n    loginReady\r\n})\r\nexport const addTodayData = (todayData) => ({\r\n    type: 'GET_TODAY_DATA',\r\n    todayData\r\n})\r\nexport const addAnimalsData = (animalsData) => ({\r\n    type: 'GET_ANIMALS_DATA',\r\n    animalsData\r\n})\r\nexport const toggleTodayReady = (todayReady) => ({\r\n    type: 'TOGGLE_TODAY_READY',\r\n    todayReady\r\n})\r\n\r\nexport const addNextPage = (nextPage) => ({\r\n    type: 'CREATE_NEXT_PAGE',\r\n    nextPage\r\n})\r\nexport const addAnimalCardData = (animalCardData) => ({\r\n    type: 'CREATE_ANIMAL_DATA',\r\n    animalCardData\r\n})","import { connect } from 'react-redux';\r\nimport { LoginForm } from '../components/LoginForm';\r\nimport { addTodayData } from '../actions/index';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { state: state }\r\n}\r\nconst MapDispatchToProps = (dispatch) => {\r\n  return {\r\n      addTodayData: (todayData) => dispatch(addTodayData(todayData)),\r\n  }\r\n} \r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    MapDispatchToProps,\r\n)(LoginForm);","import React, {useState, useEffect} from \"react\";\r\nimport { auth, getTodayData } from '../api'\r\nimport { useDispatch } from 'react-redux';\r\nimport { toggleLoginError, toggleLoginReady} from '../actions'\r\n\r\nexport const LoginForm = (data) => {\r\n  const { loginError, loginReady } = data.state;\r\n  const [login, setLogin] = useState('test_user_1')\r\n  const [password, setPassword] = useState('user10000')\r\n  const dispatch = useDispatch();\r\n\r\n  const handleChange = (e) => {\r\n    setLogin(e.target.value)\r\n  }\r\n\r\n  const handleSendForm = (e) => {\r\n    e.preventDefault()\r\n    if (login.length > 0 || password.length > 0) {\r\n      auth(login, password)\r\n        .then((response) => {\r\n          localStorage.setItem('access', response.data.access);\r\n          window.location.assign('/today');\r\n        })\r\n        .catch((error) => {\r\n              dispatch(toggleLoginError(true));\r\n              console.log('Имя пользователя или пароль введены не верно')\r\n            }\r\n        );\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    if (!loginReady) {\r\n      dispatch(toggleLoginError(true));\r\n    } else {\r\n      dispatch(toggleLoginReady(false));\r\n    }\r\n  }, [loginError])\r\n  \r\n//   username: 'test_user_1',\r\n// password: 'user10000'\r\n\r\n  return (\r\n    <div className=\"container w-500 \">\r\n      <h3 className='center-align'>Авторизация</h3>\r\n      <form className=\"s12\" action='post'>\r\n        <div className=\"row\">\r\n          <div className=\"input-field col w-500\">\r\n            <input \r\n              type=\"text\"\r\n              placeholder='Login'\r\n              id='login'\r\n              onChange={handleChange}\r\n              value='test_user_1'\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"input-field col w-500\">\r\n            <input \r\n              id=\"password\"\r\n              type=\"password\"\r\n              data-length=\"30\"\r\n              value='user10000'\r\n              placeholder='Password'\r\n              onChange={e => {\r\n                setPassword(e.target.value)\r\n                dispatch(toggleLoginError(false))\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className='center-align'>\r\n          {loginError ? <p className='red-text'>Имя пользователя или пароль введены не верно</p> : ''}\r\n        <button className=\"waves-effect waves-light btn red lighten-1 \" onClick={handleSendForm}>Войти</button>\r\n\r\n        </div>\r\n      </form>\r\n    </div>      \r\n  );\r\n}","import { Link } from 'react-router-dom';\r\n\r\nexport const TodayItem = (item) =>{\r\n    const linkId = `animal/animalCard/${item.item.animal.id}`;\r\n    \r\n    return (\r\n        <div className=\"col s12 m2\">\r\n          <div className=\"card red lighten-1 j-c\">\r\n            <div className=\"card-content white-text valign  right\">\r\n              <Link to={linkId}>\r\n                <span className=\"card-title white-text\">{item.item.animal.name}</span>\r\n              </Link>\r\n              <p>Порода: {item.item.animal.spec_name}</p>\r\n            </div>\r\n            <div className=\"card-content white-text left align-right\">\r\n\r\n              <b><p>Назначение: {item.item.my_type}</p></b>\r\n              <p>Препараты: </p>\r\n              <p>Название: {item.item.drugs[0].drug_name}</p>\r\n              <p>Доза: {item.item.drugs[0].drug_dosage} {item.item.drugs[0].form_of_drug}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n","export const Preloader = () => {\r\n    return (\r\n        <div className=\"progress\">\r\n            <div className=\"indeterminate\"></div>\r\n        </div>\r\n    )\r\n}","import { connect } from 'react-redux';\r\nimport { addTodayData, toggleLoading, toggleTodayReady, toggleTodayError } from '../actions';\r\nimport { TodayList } from '../components/TodayList';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { state: state }\r\n}\r\nconst MapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addTodayData: (todayData) => dispatch(addTodayData(todayData)),\r\n    toggleTodayReady: (todayReady) => dispatch(toggleTodayReady(todayReady)),\r\n    toggleTodayError: (todayError) => dispatch(toggleTodayError(todayError)),\r\n    toggleLoading: (loading) => dispatch(toggleLoading(loading))\r\n  }\r\n} \r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    MapDispatchToProps\r\n)(TodayList);","import React, {useState, useEffect} from \"react\";\r\nimport { getTodayData, getAnimalsData } from '../api'\r\nimport { TodayItem } from './TodayItem'\r\nimport {Preloader} from '../layout/Preloader';\r\nimport { useDispatch } from 'react-redux';\r\nimport { addTodayData, toggleTodayReady, toggleTodayError, toggleLoading, addAnimalsData, addNextPage } from '../actions'\r\n\r\n\r\nexport const TodayList = (data) => {\r\n  const dispatch = useDispatch();\r\n  const { todayData, todayReady, todayError, loading, nextPage } = data.state;\r\n\r\n  useEffect(()=> {      \r\n    dispatch(toggleLoading(true));\r\n    if (!todayData.length) {\r\n      getTodayData()\r\n      .then(response=> {\r\n          dispatch(addTodayData(response.data.results));\r\n      })\r\n      . then((data)=>{\r\n            dispatch(toggleTodayReady(true));\r\n            dispatch(toggleLoading(false));\r\n          })\r\n        .catch(e=>{\r\n          dispatch(toggleLoading(false));\r\n          dispatch(toggleTodayError(true));\r\n          window.location.assign('/login')\r\n        });\r\n      getAnimalsData()\r\n      .then(response=> {\r\n          dispatch(addAnimalsData(response.data.results));\r\n          dispatch(addNextPage(response.data.next))\r\n      })\r\n\r\n    }           \r\n    dispatch(toggleLoading(false));\r\n}, [todayReady]);\r\nreturn (\r\n  <div className='j-center'>\r\n    {todayError ? (<h4>Sorry, something went wrong, please try again later.</h4>):(\r\n      loading ? <Preloader /> :  (\r\n      <div className='j-center center'>\r\n        <h1>Назначения на сегодня:</h1>\r\n        {todayData.map((item, i) => {return <TodayItem key={i} item={item}/>})}\r\n      </div>\r\n    ))}\r\n  </div>\r\n)\r\n}\r\n\r\n\r\n\r\n","import { connect } from 'react-redux';\r\nimport { AnimalCard } from '../components/AnimalCard';\r\nimport { addAnimalCardData } from '../actions';\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { state:state }\r\n}\r\nconst MapDispatchToProps = (dispatch) => {\r\n    return {\r\n        dispatch: (animalCartData) => (addAnimalCardData(animalCartData)),\r\n    }\r\n} \r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    MapDispatchToProps\r\n)(AnimalCard);\r\n","import {useEffect, useState} from 'react';\r\nimport {useParams, useHistory } from 'react-router-dom';\r\nimport { getAnimalCartData } from '../api';\r\nimport {Preloader} from '../layout/Preloader';\r\nimport { addAnimalCardData, toggleLoading } from '../actions';\r\n\r\nimport {useDispatch} from 'react-redux';\r\n\r\nexport const  AnimalCard = (data) => {\r\n    const dispatch = useDispatch();\r\n    const { id } = useParams();\r\n    const { animalCardData, loading } = data.state\r\n    const {goBack} = useHistory();\r\n\r\n    useEffect(()=> { \r\n        dispatch(toggleLoading(true));\r\n\r\n        getAnimalCartData(id)\r\n        .then(response=> {\r\n            if (response.data.animal_attributes[1]) {\r\n                dispatch(addAnimalCardData(response.data));\r\n            } else {\r\n                let arr = {\r\n                    name: response.data.name,\r\n                    animal_attributes: [\r\n                        {value: 'нет информации'},\r\n                        {value: 'нет информации'},\r\n                        {value: response.data.animal_attributes[0].value},\r\n                        {value: 'нет информации'},\r\n                    ]\r\n                }\r\n                console.log(arr)\r\n                dispatch(addAnimalCardData(arr));\r\n            }\r\n            console.log(animalCardData)\r\n            dispatch(toggleLoading(false));\r\n\r\n        })\r\n        // .catch(()=>{\r\n        //     window.location.assign('/login')\r\n        //   });\r\n    }, []);\r\n\r\n    return (\r\n        loading ? <Preloader /> : (\r\n        <div className=\"col s12 m6\">\r\n        <div className=\"card red lighten-1 \">\r\n            <div className=\"card-content white-text right\">\r\n                <span className=\"card-title\">{animalCardData.name}</span><br/>\r\n                <p>Рост: {animalCardData.animal_attributes[0].value}</p>\r\n                <p>Вес: {animalCardData.animal_attributes[1].value}</p>\r\n                <p>Пол: {animalCardData.animal_attributes[2].value}</p>\r\n                <p>Цвет: {animalCardData.animal_attributes[3].value}</p>\r\n                <p>Тип: {animalCardData.spec_parent_name}</p>\r\n                <p>Подтип: {animalCardData.spec_name}</p>\r\n            </div>\r\n            \r\n            <div className='card-content abs-position'>\r\n                <img src=\"http://placehold.it/400x250/\" alt='Заглушка'/>\r\n            </div>\r\n            <div className=\"card-action\">\r\n            <a href='#' onClick={(e)=> {e.preventDefault(); goBack()}}>Вернуться</a>\r\n            </div>\r\n        </div>\r\n        </div>\r\n        )\r\n    \r\n    )\r\n}","import { Link } from 'react-router-dom';\r\n\r\nexport const AnimalsItem = (item) =>{\r\n    const linkId = `animal/animalCard/${item.item.id}`;\r\n    \r\n    return (\r\n        <div className=\"col s12 m6\">\r\n          <div className=\"card red lighten-1\">\r\n            <div className=\"card-content white-text\">\r\n              <Link to={linkId} className='hover'>\r\n                <span className=\"card-title white-text\">{item.item.name}</span>\r\n              </Link>\r\n              <p>Порода: {item.item.spec_parent_name}</p>\r\n              <p>Тип: {item.item.spec_name}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n","import { connect } from 'react-redux';\r\nimport { addAnimalsData, addNextPage } from '../actions/index';\r\nimport { AnimalsList } from '../components/AnimalsList'\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { state:state }\r\n}\r\nconst MapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addAnimalsData: (animalsData) => dispatch(addAnimalsData(animalsData)),\r\n        addNextPage: (nextPage) => dispatch(addNextPage(nextPage))\r\n    }\r\n} \r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    MapDispatchToProps\r\n)(AnimalsList);\r\n","import React, {useState, useEffect} from \"react\";\r\nimport {Preloader} from '../layout/Preloader';\r\nimport { useDispatch } from 'react-redux';\r\nimport { getAnimalsData } from '../api'\r\nimport {  addAnimalsData, addNextPage, toggleLoading } from '../actions'\r\nimport { AnimalsItem } from \"./AnimalsItem\";\r\n\r\n\r\nexport const AnimalsList = (data) => {\r\n  const dispatch = useDispatch();\r\n  const { animalsData, nextPage, loading } = data.state;\r\n\r\n  useEffect(()=> {      \r\n    dispatch(toggleLoading(true));\r\n\r\n    if (animalsData.length < 1) {\r\n      getAnimalsData()\r\n      .then(response=> {\r\n          dispatch(addAnimalsData(response.data.results));\r\n          dispatch(toggleLoading(false));\r\n      })\r\n      .catch(error => {\r\n        console.log(error)\r\n        window.location.assign('/login')\r\n      })\r\n    } \r\n    dispatch(toggleLoading(false));\r\n}, []);\r\nconst handleClick = () => {\r\n  getAnimalsData(nextPage.slice(15))\r\n  .then(response=> {\r\n    dispatch(addAnimalsData([...animalsData, ...response.data.results]));\r\n    dispatch(addNextPage(response.data.next))\r\n  })\r\n}\r\nreturn (\r\n  <div  className='center'>\r\n    {!animalsData ? (<Preloader />):(\r\n      <div>\r\n        <h1>Животные в приюте:</h1>\r\n        {loading ? <Preloader /> : (<>{animalsData.map((item, i) => {return <AnimalsItem key={i} item={item}/>})}\r\n        <button className=\"waves-effect waves-light btn red lighten-1 \" onClick={handleClick}>ПОказать больше</button></>)}\r\n        \r\n      </div>\r\n    )}\r\n  </div>\r\n)\r\n}\r\n\r\n\r\n","export const NotFound = () => {\r\n    return <h1>The page is not found</h1>\r\n}\r\n","import { Route, Switch } from 'react-router-dom';\r\nimport { Header} from './layout/Header';\r\nimport { Footer} from './layout/Footer';\r\nimport { Home } from './page/Home';\r\nimport Login from './page/Login';\r\nimport Today from './page/Today';\r\nimport Animal from './page/Animal';\r\nimport Animals from './page/Animals';\r\nimport { NotFound } from './page/NotFound';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nimport './index.css';\r\n\r\nconst App = () => {\r\n    return <>\r\n        <BrowserRouter basename='/'>\r\n        <Header />\r\n        <main className=\"container content\">\r\n            <Switch>\r\n                <Route exact path=\"/\" component={Home}/>\r\n                <Route exact path=\"/login\" component={Login}/>\r\n                <Route exact path=\"/today\" component={Today}/>\r\n                <Route exact path=\"/animals\" component={Animals}/>\r\n                <Route exact path=\"/animal/animalCard/:id\" component={Animal}/>\r\n                <Route component={NotFound}/>\r\n            </Switch>\r\n        </main>\r\n        <Footer />\r\n        </BrowserRouter>\r\n    </>\r\n}\r\n\r\nexport default App;\r\n","let inc_page = 2;\r\nlet search_page = 2;\r\nconst reducer = ( state = [], action ) => {\r\n    switch (action.type) {\r\n        case 'LOGIN_ERROR':\r\n            return {\r\n                ...state,\r\n                loginError: action.loginError\r\n            }\r\n        case 'TODAY_ERROR':\r\n            return {\r\n                ...state,\r\n                todayError: action.todayError\r\n            }\r\n        case 'TOGGLE_LOADING':\r\n            return {\r\n                ...state,\r\n                loading: action.loading\r\n            }\r\n        case 'LOGIN_READY':\r\n            return {\r\n                ...state,\r\n                loginReady: action.loginReady\r\n            }\r\n        case 'GET_TODAY_DATA':\r\n            return {\r\n                ...state,\r\n                todayData: action.todayData\r\n            }\r\n        case 'GET_ANIMALS_DATA':\r\n            return {\r\n                ...state,\r\n                animalsData: action.animalsData\r\n            }\r\n        case 'TOGGLE_TODAY_READY':\r\n            return {\r\n                ...state,\r\n                todayReady: action.todayReady\r\n            }\r\n        case 'CREATE_NEXT_PAGE':\r\n            return {\r\n                ...state,\r\n                nextPage: action.nextPage\r\n            }\r\n        case 'CREATE_ANIMAL_DATA':\r\n            return {\r\n                ...state,\r\n                animalCardData: action.animalCardData\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","const initialState = {\r\n    loginError: false,\r\n    loginReady: true,\r\n    animalsData: [],\r\n    todayData: [],\r\n    todayReady: false,\r\n    todayError: false,\r\n    loading: false,\r\n    nextPage: '',\r\n    animalCardData: {name: '',\r\n                    animal_attributes: [\r\n                        {value: ''}, \r\n                        {value: ''}, \r\n                        {value: ''}, \r\n                        {value: ''}, \r\n                    ]           \r\n                },\r\n}\r\n\r\nexport default initialState;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport reducer from './reducers/reducers';\nimport { BrowserRouter } from 'react-router-dom';\nimport initialState from './initialState';\n\nconst store = createStore(reducer, initialState);\n\nReactDOM.render(\n    <Provider store={store}>\n        <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    </Provider>\n    ,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}